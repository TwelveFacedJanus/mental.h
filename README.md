<div>
<img src="https://gitlab.com/mentalgrp/mental.promo/-/raw/main/Logos/mental_h1280x800.png?ref_type=heads"/>
</div>

Проект `mental.h` создан для унификации проектов и кода под единый стиль. Стиль, который должнен быть прост и понятен, современен и читаем.

Все мы открывали C/C++ код и негодовали о файлах и непонятных функциях, которые тяжело читаются. Проект `mental.h` должен унифицировать этот трудоемкий процесс. Мы понимаем, что каждый разработчик - писатель или же творец, а потому нельзя унифицировать абсолютно весь код и все проекты, но мы должны придерживаться неких правил внутри группы, чтобы сделать что-то новое и удобное.

В `mental.h` включена базовая математика `Mathematica.h` для асинхронных и мнопоточных вычислений (реализовано не до конца). Так же, `mental.h` базово содержит логирование cм. [Historical.h](./core/Historical.h) которым можно управлять прямо в рантайме, меняя `g_log_level` на 0, 1, 2, 3. Подробнее в [файле](./core/Historical.h). В математике реализована Generic-структура односвязного списка.

Пока что, успел реализовать только базовую асинхронность и в зависимости добавил `libuv`. Она предоставляет событийный цикл, который позволяет эффективно обрабатывать асинхронные операции, такие как работа с файлами, сетью, таймерами и потоками.

Из нового, добавил `Pipes.h`, для создания пайплайнов с функциями или данными. Что нужно - решайте сами.
Вообще, `Pipeline` - отдельная структура с массивом на указатели функции cм. [Pipeline.h](./core/Pipes.h).


### Установка зависимостей

```sh
# OSX via brew.
root@user:$ brew install libuv
```

## Компиляция (dev)
Если хотите подключить эту библиотеку к своему проекту, то игнорируйте этот пункт.

Для компиляции потребуется только `clang` или `gcc` и зависимости выше.

```sh
root@user:$ clang -o async_scheduler main.c -I/opt/homebrew/include -L/opt/homebrew/lib -luv -lglfw -lGLEW
```

Второй способ используя [consturctor](https://gitlab.com/mentalgrp/constructor):
```sh
root@user:$ constructor --config WORKSPACE.constructor
```

Вообще, советую использовать именно `constructor`, так как он позволяет асинхронно скачивать и устанавливать зависимости, такие как GLEW и GLEW. Насчет GLEW я не уверен, что буду использовать его в будующем. Пожалуй, только Vulkan.

## Стандарт M+1P
`M+1P` - это некий стандарт, который должен находится внутри проектов группы. То есть, все созданные проекты должны быть унифицированы используя этот стандарт:

1. Соблюдай чистоту в коде.

2. Не надо использовать ООП (Объекто Ориентированный Подход). Со временем, связи между классами сильно разрастаются, что приводит к каше, а это лишняя вещь.

3. Если что-то может содержать ошибки, то исправь это. Проверяй указатели на `NULL`. Если `NULL`, то возращай `MentalResult`. Не нужно делать так, чтобы функция крашилась при каких-то обстоятельствах. Работай над ней. Совершенствуй. Сделай её такой, чтобы её можно было использовать в любом другом проекте Mental без заморочек с зависимостями и кодом.

4. Функции **всегда** должны возвращать `MentalResult`.

5. Проекты `Mental` должны придерживаться декларативного подхода.

6. Документируй свой код по максимуму. Используй современный Doxygen или альтернативы, но код - идеальная книга.

7. Пиши тесты. Тесты должны покрывать хотя бы 70% твоего кода. Если тесты не проходят - дорабатывай.

8. Описывай свой код по максимуму. Если нужны графики - строй их!

9. Используй Bazel или Makefile как системы сборки своего проекта.

10. При написании C/C++ кода придерживайся стиля BSD.

11. Любой твой проект должен быть кроссплатформенным. Помни, технологии для каждого.

12. В каждом проекте должны быть ветки `development`, `common`, `tests`, `master`. Каждая под свою задачу.

13. Ты - творец. Ты - создатель. Пиши код так, чтобы он был идеальным ( хотя бы для тебя ).

14. Весь код должен быть открытым.

15. Если этот проект под стандартом Mental, то его контент ( логотипы, рисовки, карты и прочее ) должен находиться в [mental.promo](https://gitlab.com/mentalgrp/mental.promo).

Этот стандарт основа для группы Mental. Следуй ему и всё будет супер! Удачи!

## Контакты
```sh
Daniil@Ermolaev:$ twofaced-janus@yandex.ru
```

